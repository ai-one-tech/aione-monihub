## 目标
- 左侧列表（任务列表）在“刷新”按钮旁新增：
  - 自动刷新开关（默认关闭或按需设为开启）。
  - 刷新间隔选择（默认 1s，支持 5/10/30/60s）。
- 右侧“任务关联实例及结果”在存在 `pending|dispatched|running` 时按选择的间隔轮询；当全部完成或无实例时自动停止。
- 切换任务/实例时自动启停轮询，避免重复定时器与泄漏。

## 现状定位
- 任务列表查询（左侧）：`apps/frontend/src/features/application-tasks/index.tsx:45`
- 任务关联实例及结果查询（右侧）：`apps/frontend/src/features/application-tasks/index.tsx:177`
- 左侧手动刷新按钮：`apps/frontend/src/features/application-tasks/index.tsx:434`
- 右侧手动刷新按钮：`apps/frontend/src/features/application-tasks/index.tsx:482`
- 任务切换与默认实例选择：`apps/frontend/src/features/application-tasks/index.tsx:286`, `apps/frontend/src/features/application-tasks/index.tsx:296`
- 可用 UI 组件：`Switch` 与 `Select`
  - `apps/frontend/src/components/ui/switch.tsx`
  - `apps/frontend/src/components/ui/select.tsx`

## 实现方案
- UI 增加开关与选择器（左侧工具栏，靠近 `刷新` 按钮）：
  - 新增本地状态：`autoRefreshEnabled`（默认 `true` 或按需设定），`refreshIntervalMs`（默认 `1000`）。
  - 使用 `Switch` 控制启停：`<Switch checked={autoRefreshEnabled} onCheckedChange={setAutoRefreshEnabled} />`
  - 使用 `Select` 选择间隔：`<Select value={String(refreshIntervalMs)} onValueChange={(v) => setRefreshIntervalMs(Number(v))}>`，`SelectItem` 取值 `1000/5000/10000/30000/60000`。
- 左侧任务列表自动刷新：
  - 在任务列表的 `useQuery`（`apps/frontend/src/features/application-tasks/index.tsx:45`）添加 `refetchInterval`：
    - `refetchInterval: () => autoRefreshEnabled ? refreshIntervalMs : false`
  - 保留现有手动 `invalidateQueries` 刷新按钮（`apps/frontend/src/features/application-tasks/index.tsx:434`）。
- 右侧关联实例条件轮询：
  - 在“任务关联实例及结果”的 `useQuery`（`apps/frontend/src/features/application-tasks/index.tsx:177`）添加动态 `refetchInterval`：
    - `refetchInterval: (resp) => { const list = resp?.data || []; const hasActive = list.some(item => ['pending','dispatched','running'].includes(item.execution_record.status)); return (autoRefreshEnabled && hasActive) ? refreshIntervalMs : false }`
  - 当全部完成或无实例时返回 `false` 自动停止。

## 边界与切换处理
- 无相关实例：`resp?.data?.length === 0` 时停止右侧轮询；可在 `apps/frontend/src/features/application-tasks/index.tsx:296` 处当数据为空时 `setSelectedInstanceResult(null)` 保持 UI 一致。
- 切换任务：已通过 `enabled: !!selectedTask` 停止旧查询并启动新查询；`apps/frontend/src/features/application-tasks/index.tsx:286` 已清空选中实例。
- 用户手动刷新按钮与自动刷新互不冲突：手动刷新直接失效对应查询缓存，自动刷新按间隔继续。

## 修改点列表
- `apps/frontend/src/features/application-tasks/index.tsx:434` 附近：加入 `Switch` 与 `Select` UI，绑定 `autoRefreshEnabled` 与 `refreshIntervalMs`。
- `apps/frontend/src/features/application-tasks/index.tsx:45`：为任务列表查询增加 `refetchInterval` 基于开关与选择的动态间隔。
- `apps/frontend/src/features/application-tasks/index.tsx:177`：为任务关联实例查询增加条件 `refetchInterval`（仅在活跃状态时按所选间隔轮询）。
- （可选）`apps/frontend/src/features/application-tasks/index.tsx:296`：数据为空时清空 `selectedInstanceResult`。

## 验证
- 开启自动刷新、选择不同间隔（1/5/10/30/60s）：观察左侧任务列表按选间隔刷新。
- 在某任务存在活跃实例时：右侧实例结果按选间隔自动刷新；当全部完成后自动停止。
- 切换至无实例任务：右侧轮询不启动，左侧仍按开关与间隔独立工作。
- 手动刷新按钮在两侧保持可用，即时触发刷新。