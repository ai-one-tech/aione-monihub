## 审计结论
- 大多数时间展示使用 `toLocaleString`/`toLocaleDateString` 或 `date-fns/format` 基于 `new Date(...)`，实际呈现为浏览器本地时区。
- 输入与查询统一转为 UTC：`datetime-local` 的值通过 `new Date(value).toISOString()` 上送；报表查询使用 `"yyyy-MM-dd'T'00:00:00'Z'"`/`"23:59:59'Z'"` 的 UTC 边界字符串。
- 未发现 `dayjs/moment/Intl.DateTimeFormat/utc/tz` 的显式使用；未存在全局时区封装与统一格式策略。

## 关键位置（代表性）
- 本地时间展示：
  - `src/features/system/logs/components/system-logs-table.tsx:47-54` 使用 `date-fns/parse` 解析（含时区偏移）后 `toLocaleString` 展示。
  - `src/features/system/logs/request/components/request-logs-table.tsx:41-48` 同上。
  - `src/features/instances/components/instances-columns.tsx:194-203` 使用 `toLocaleString('zh-CN', { hour12: false })`。
  - `src/features/applications/components/applications-task-result-dialog.tsx:143,152,161` 多处 `toLocaleString()`。
  - `src/features/applications/components/applications-task-result-list.tsx:247` 使用 `toLocaleString()`。
  - `src/features/application-tasks/index.tsx:666,794-798,1150` 使用 `toLocaleString()`。
  - `src/features/projects/components/projects-columns.tsx:120,131` 使用 `toLocaleDateString('zh-CN')`。
  - `src/features/applications/components/applications-columns.tsx:188,199` 使用 `toLocaleDateString('zh-CN')`。
  - `src/features/instances/components/instances-report-list.tsx:47`、`instances-report-detail-dialog.tsx:49,80,86` 使用 `date-fns/format(..., 'yyyy-MM-dd HH:mm:ss', { locale: zhCN })`。
  - `src/features/chats/index.tsx:49,252` 使用 `date-fns/format` 展示日期与时间。
- 输入/查询（UTC）:
  - `src/features/system/logs/operations/components/operations-logs-table.tsx:74-85,98-99` `datetime-local` 本地→`toISOString()`。
  - `src/features/instances/components/instances-report-drawer.tsx:28-29` 生成 UTC 边界字符串。
- 其他：
  - `src/components/ui/calendar.tsx:37,190` 使用 `toLocaleString('default', { month: 'short' })` 与 `toLocaleDateString()`。
  - `src/stores/auth-store.ts:65-66` 调试输出使用 `toLocaleString()`。

## 风险与差异
- 使用默认 `toLocaleString()` 的地方会随用户区域/12/24 时制变化，可能导致跨用户体验不一致。
- 不同页面的格式不统一（有的仅日期、有的日期+时间），且无集中封装，存在重复实现与口径分歧风险。

## 改进目标
- 统一前端展示为“本地时区+固定格式”，默认 `yyyy-MM-dd HH:mm:ss` 与 `zhCN`，确保 24 小时制与数值填充一致。
- 保留数据上送/查询的 UTC 口径；提供可切换显示（本地/UTC）的扩展能力。

## 实施方案
1. 新增前端时间工具（示例命名 `src/lib/datetime.ts`）：
   - `formatDateTime(input: Date | string | number, opts?)`：返回本地时区、固定模板的字符串；支持 `locale`、是否显示秒、是否仅日期/仅时间。
   - `formatDate(input)`、`formatTime(input)`：常用变体。
   - `toLocalInput(iso?: string)` 与 `fromLocalInputToIso(value: string)`：统一 `datetime-local` 的双向转换（保留现有行为）。
   - `toUtcIsoRange(start: Date, end: Date)`：输出带 `Z` 的 UTC 边界字符串，集中封装报表查询的起止时间。
2. 替换散落的格式化调用，统一走工具函数：
   - 列表类：`instances-report-list.tsx`、`instances-report-detail-dialog.tsx`、`instances-columns.tsx`、`projects-columns.tsx`、`applications-columns.tsx`。
   - 任务相关：`applications-task-result-dialog.tsx`、`applications-task-result-list.tsx`、`application-tasks/index.tsx`。
   - 日志类：`system-logs-table.tsx`、`request-logs-table.tsx`（保留解析逻辑，展示走统一格式）。
   - 通用组件：`ui/calendar.tsx`（统一月份与日期属性格式）。
   - 聊天：保留人性化格式，但改用封装以统一 12/24 时制与区域。
3. 页面格式策略：
   - 列表列统一 `yyyy-MM-dd HH:mm:ss`；仅日期场景使用 `yyyy-MM-dd`。
   - 中文环境默认 `zhCN`，确保数值填充与 24 小时制一致。
4. 验证与回归：
   - 本地分别模拟不同时区/语言（浏览器切换），确认展示稳定且与后端 UTC 查询结果一致。
   - 重点页面：实例上报、应用任务、系统/请求日志、项目/应用列表、聊天。

## 交付与边界
- 仅前端代码改动；不更改后端接口口径。
- 遵循现有 UI（shadcn 风格），不引入新日期库；沿用 `date-fns` 与原生 `Date`。
- 不创建测试代码与不启动前端 dev（按项目规则）。

如确认上述计划，我将按该方案集中封装并逐页替换，确保时间展示一致且符合本地时区预期。